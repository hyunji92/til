#자바의 멀티스레딩
> 모든 안드로이드 응용프로그램은 자바언어의 멀티스레드 프로그래밍 모델을 따른다.

##2.1 스레드의 기본
> 명령어는 CPU가 순차적으로 츠리하는 응용프로그램 코드로 정의되는데, 이 응용프로그램 코드를 스레드의 고수준 정의라고 한다.
> 스레드에서 순차적으로 실행되는 코드경로, 즉 질서 정연하게 하나의 스레드에서 실행하는 작업의 단위를 테스크라고 한다.

####2.1.1 실행
>안드로이드 응용프로그램의 스레드는 java.lang.Thread에 의해 표현된다. 
>스레드의 생존시간은 태스크의 길이에 의해 결정된다.

```java
private class MyTask implements Runnable {
	public void run() {
    	int i = 0; //  스레드의 지역 스택에 저장된다.
    }
}
```

- run()메서드 안에서 직간접적으로 호출되는 모든 지역변수는 스레드의 지역 메모리 스택에 저장된다.
- 운영체제 레벨에서의 스레드 명령어
	- 명령어 포인터  -  다음에 실행할 명령어
	- 스텍 포인터  -  스레드의 지역 데이터를 저장하는 전용 메모리 영역( 다른 스레드에서 접근 불가)

!!! 스레드의 지역 데이터  : 해당 응용프로그램의 자바 메서드에서 정의된 변수 리터럴
!!! CPU는 한 번에 하나의 스레드 명령어를 처리하 수 있다. CPU의 처리시간의 공유는 스케줄러에 의해처리된다.
	그러나 일반적으로 시스템은 동시에 실행되는 여러 응용프로그램처럼 동시에 처리를 해야 하는 멀티스레드를 보유한다.

> 스케줄링 전략은 다양한 방식으로 구현될 수 있지만 주로 스레드 우선순위를 기반으로 한다. 
> 기아 : 낮은 우선순위의 스레드는 의도된 작업을 수행할 충분한 처리 시간을 얻지못하는 경우 발생 이를 기아라고 한다,
> 문맥 교환 : 스레드의 변경을 문맥교환이라 한다.실행중인 스레드를 나중에 다시 시작할 수 있도록 상태를 저장하는 것으로 시작한다.
```
각 스케줄링 지점은 운영체제가 '스레드 전환을 수행' 하기 위해 CPU를 사용하는 문맥 교환을 포함한다.
```

####2.1.2 싱글스레드 응용프로그렘 
> 싱글 스레드 환경에서 UI이벤트는 이전 명령어가 실행을 마치 때까지 지연 되므로 성능과 반응성이 저하될 수 있다. 이문제를 해결하려면 응용프로그램을 여러 개의 코드 경로로 실행해야 한다. 즉 스레드를 분리할 필요하가 있다.

####2.1.3 멀티 스레드 응용프로그램
> 실행하는 스레드 수가 프로세스의 수를 초과하면 완벽한 동시성이 도리 수없다. 그러나 스케줄러는 스레드 사이를 빠르게 전환하며, 순차적으로 처리되는 실행 간격 안으로 모든 코드 경로를 불리하여 처리한다.

- 자원 소비증가
스레드는 메모리와 프로세서 사용량 측면에서 오버헤드를 동반한다. 각 스레드는 메서드 실행 중에 지역변수 및 매개변수를 저장하는데 사용되는 전용 메모리 영역을 할당한다. 즉, 스레드가 활성화 되어 있거나 심지어 유후또는 차단된 경우에도 시스템 자원을 차지한다.
프로젝트 측면에서는 더많은 스레드가 실행될 수록 더 많은 문맥 교환이 일어나고 성능이 저하 될 수 있다.


